{% extends "store/base.html" %}
{% load static %}
{% block title %}
{{ product.name }}
{% endblock %}
{% block content %}
<div class="container">
    <main class="pt-5">
        <div class="row g-3">
            <div class="col-md-5 col-lg-5 order-md-first bg-light">
                <img class="img-fluid mx-auto d-block" width="200px" alt="Responsive image" src="{{ product.image }}">
            </div>
            <div class="col-md-7 col-lg-7 ps-md-3 ps-lg-5">
                <h1 class="mb-0 h4">{{ product.name }}</h1>
                <p><span class="lead">{{ product.description }}</span> </p>
                <p>{{ product.description|slice:":355" }}...</p>
                <div class="border">
                    <div class="col border-bottom">
                        <div class="row p-3">
                            <div class="col-6">Price</div>
                            <div class="col-6 text-end"><span class="h4 fw-bold">${{ product.price }}0</span></div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="row p-3">
                            <div class="col-6">
                                <label for="select">Qty</label>
                                <select id="select">
                                    <option value="">1</option>
                                    <option value="">2</option>
                                    <option value="">3</option>
                                    <option value="">4</option>
                                </select>

                            </div>
                            <div class="col-6 text-end">
                                <a href=type="button" id="add-button" value="{{ product.id }}"
                                    class="btn btn-dark text-white btn-sm">Add to basket</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

</div>

<!-- <script>
    $(document).on('click', '#add-button', function(e) {
        e.preventDefault();
        $.ajax({
            type: 'POST',
            url: 
            data: {
                productid: $('#add-button').val(),
                productqty: $('#select option:selected').text(),
                csrfmiddlewaretoken: "{{csrf_token}}",
                action: 'post'
            },
            success: function(json) {
                document.getElementById('basket-qty').innerHTML = json.qty;
            },
            error: function(xhr, errmsg, err) {}
        });
    })
</script> -->

<section class="reviews">
    <h2>Reviews</h2>
    <div class="reviews-container">
        <div class="review">
            <h5 class="review-subject">The best!</h5>
            <span class="username">User name</span>
            <br>
            <span class="rating">Rating</span>
            <p class="review-content">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nobis beatae ex
                similique error molestias omnis consequatur obcaecati quo corrupti! Quos asperiores maiores, quae
                dolorum iste consequuntur impedit cupiditate minima eveniet.
                Quam maxime, expedita quaerat eius cum praesentium suscipit perferendis doloribus assumenda delectus
                ullam nisi voluptatem minima, modi distinctio a quas. Dolorem consectetur neque aut suscipit labore
                delectus consequuntur quos aspernatur.</p>
        </div>
    </div>

    <div class="add-review">
        <form action="{% url 'add_review' product.slug %}" method="POST">
        {% csrf_token %}
        {{ review_form.as_p }}
        <input value="Add Review" type="submit" class="btn">
    </form>
    </div>
</section>

{% endblock %}